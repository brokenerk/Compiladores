{% extends 'base/dashboard.html'%}
{% block content %}
	{% if msg == 1 %}
		<script>
			M.toast({
				html: 'ADF successfully',
				classes: 'green',
				inDuration: 2000
			})
		</script>
	{% elif msg ==2 %}
		<script>
			M.toast({
				html: 'Error with Regex',
				classes: 'red',
				inDuration: 2000
			})
		</script>
	{% endif %}

	<div class="container">
      	<div id="nfa" class="col s12">
            <form method="POST" enctype="multipart/form-data">
               {% from "_macroInputs.html" import render_field %}
               <p style="text-align: center; font-size: 25px;"> NFA Analysis </p>
               <div class="row">
	               	<div class="input-field col s7">
	               		{{ render_field(nfaF.regularExpressions) }}
	               	</div>
       			</div>

       			<div class="row">
	               	<div class="col s6">
	               		<input type="file" name="fileGrammar">
	               	</div>
       			</div>

       			<div class="row center">
	               <button type="submit" class="waves-effect waves-light #0288d1 light-blue darken-2 btn-large"><i class="material-icons right">text_rotation_none</i>Analyze</button>
	           </div>
            </form>
      	</div>
	</div>
	<div id="principal" class="container">
		<div id="showTable" class="row">
		   {% if afdER %}
		  		<p style="text-align: center; font-size: 25px;">DFA Id: {{ afdER.getId() }} Table</p>

	   			<div class="row">
			  		<table class="striped centered responsive-table">
				 		<thead class="#0288d1 light-blue darken-2">
							<tr>
					   			<th class="white-text">State</th>
  
					   			{% for a in afdER.getAlphabet() %}
						  			<th class="white-text">{{ a }}</th>
					   			{% endfor %}
					   			<th class="white-text">Token</th> 
							</tr>
				 		</thead>
				 		<tbody>
							{% for i in afdER.getTable() %}
					   			<tr>
						  			<td><b> {{ loop.index - 1 }} </b></td>
					  				{% for j in i %}
					  					{% if j != -1 %}
							 				<td><b>{{ j }}</b></td>
							 			{% else %}
							 				<td>{{ j }}</td>
							 			{% endif %}
						  			{% endfor %}
					   			</tr>
							{% endfor %}
				 		</tbody>
			  		</table>
		   		</div>
		   {% endif %}
		</div>
	</div>
{% endblock %}